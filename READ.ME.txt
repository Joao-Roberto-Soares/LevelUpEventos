üõ°Ô∏è LevelUp - Motor de Gamifica√ß√£o (Back-end)

Este projeto √© um motor de gamifica√ß√£o robusto desenvolvido para gerenciar usu√°rios, comunidades tem√°ticas, quizzes e rankings din√¢micos. O sistema permite que usu√°rios entrem em diferentes "mundos", respondam desafios e acumulem pontos tanto de forma local quanto global.
üõ†Ô∏è Tecnologias e Depend√™ncias

    Express: Framework web para cria√ß√£o das rotas.

    Mongoose: ODM para conex√£o e modelagem com MongoDB.

    CORS: Middleware para permitir o acesso do Front-end ao Back-end.

    JSONWebToken (JWT): Seguran√ßa para autentica√ß√£o de sess√µes.

    BcryptJS: Criptografia de senhas.

    Dotenv: Gerenciamento de vari√°veis de ambiente.

üèóÔ∏è Como os Documentos Conversam (Data Architecture)

O segredo do funcionamento deste sistema est√° na interconectividade entre as cole√ß√µes do MongoDB. Embora sejam documentos separados, eles trocam informa√ß√µes atrav√©s de refer√™ncias de IDs e subdocumentos:
1. O V√≠nculo Usu√°rio ‚Üî Comunidade

Quando um usu√°rio clica em "Entrar na Comunidade", o sistema realiza uma opera√ß√£o dupla para garantir que ambos se "conhe√ßam":

    Na Cole√ß√£o Comunidades: O ID do usu√°rio √© inserido no array membros. Isso permite que a comunidade saiba quem faz parte dela.

    Na Cole√ß√£o Users: O ID da comunidade √© inserido dentro de um objeto no array progresso.

2. O Sistema de Pontua√ß√£o Dupla

Para entregar tanto um Ranking Global quanto um Ranking Local, o documento do Usu√°rio armazena os pontos de duas formas:

    pontos (Raiz): Um n√∫mero inteiro que acumula cada acerto do usu√°rio em qualquer lugar do sistema. √â usado para o Ranking Geral.

    progresso[].pontos (Subdocumento): Cada objeto dentro do array de progresso tem seu pr√≥prio contador de pontos. Isso isola o desempenho do usu√°rio: ele pode ser "N√≠vel 10" na Marvel e "N√≠vel 2" no Harry Potter.

3. Fluxo de uma Resposta (Quiz)

    O Front-end envia o perguntaIndex e a resposta.

    O Back-end busca o documento da Comunidade para validar se a resposta est√° correta.

    Se correta, o Back-end localiza o documento do Usu√°rio e, usando o operador $inc, atualiza simultaneamente o total global e o total dentro do objeto de progresso que possui o ID daquela comunidade espec√≠fica.

üöÄ Implementa√ß√£o dos 5 Passos (Requisitos do Projeto)

    Identidade: Cadastro e Login com prote√ß√£o JWT e Bcrypt.

    Mundos: Cole√ß√£o Comunidades com esquemas de Quizzes embutidos.

    V√≠nculo: L√≥gica de entrada que popula membros e progresso.

    Pontua√ß√£o: Engine de valida√ß√£o de resposta com atualiza√ß√£o at√¥mica de saldo.

    Rankings:

        Global: User.find().sort({ pontos: -1 })

        Local: Filtra usu√°rios que possuem o ID da comunidade no progresso e ordena pelos pontos internos desse array.

üì° Lista de Endpoints (API Reference)
Usu√°rios

    POST /usuarios/cadastro: Criar conta.

    POST /usuarios/login: Obter Token.

    GET /usuarios/ranking: Ranking Global.

Comunidades

    POST /comunidades: Criar novo mundo (Protegido).

    GET /comunidades: Listar todos os mundos.

    POST /comunidades/:id/entrar: Unir-se a um mundo (Protegido).

    POST /comunidades/:id/responder: Responder quiz e ganhar pontos (Protegido).

    GET /comunidades/:id/ranking: Ranking espec√≠fico daquele mundo.

üåê Infraestrutura e Servi√ßos

    MongoDB Atlas: Banco de dados NoSQL hospedado na nuvem.

    CORS: Configurado via app.use(cors()) para permitir integra√ß√£o com o Front-end.

    Thunder Client: Utilizado para testes de integra√ß√£o e valida√ß√£o de rotas.
